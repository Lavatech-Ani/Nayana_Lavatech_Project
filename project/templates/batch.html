{% extends 'index.html' %}
{% block title %} Batch Form {% endblock %}
{% block css %} {% endblock %}

{% block body %}
<div class="main">
        <div class="row">
            <div class="col-md-12">
                <div class="well well-sm">
                    <form action="/batch/" method="post">{% csrf_token %}
                        <fieldset>
                            <legend class="text-xs-center header">Batch Creation</legend>
                            <div class="form-group">
                              <span style='margin-right: 1.25.00em' class = "label label-default">Date: </span>
                              <input style='margin-right: 20.25em' id="edate" name="edate" type="date" class="form-check-label">
                              <label style='margin-right: 25.25em' class="form-check-label">BatchAlias</label>
                              <label style='margin-right: 2.25em' class="form-check-label">BatchID<input id="batchid" name="batchid" value="100"></label>
                              <div id="batchalias" style='margin-left: 33.25em' name="batchalias"></div>
                          </div>
                          <br>

                          <div class="form-group">  
                            <span style='margin-right: 5.00em' class = "label label-default">Trainer Name: </span>
                                  <input type="radio" class="form-check-input" id="trainer_aniket" name="trainer_aniket">
                                  <label style='margin-right: 3.25em' class="form-check-label" for="trainer_aniket">Aniket</label>
                                  <input type="radio" class="form-check-input" id="trainer_yogita" name="trainer_yogita">
                                  <label style='margin-right: 3.25em' class="form-check-label" for="trainer_yogita">Yogita</label>
                          </div>

                          <div class="form-group">
                            <span style='margin-right: 8.25em' class = "label label-default">Course: </span>
                                <input type="checkbox" class="form-check-input" value="linux" id="linux" name ="linux" checked>
                                <label style='margin-right: 3.25em' class="form-check-label" for="linux">Linux</label>
                                <input type="checkbox" class="form-check-input" id="aws" name ="aws">
                                <label style='margin-right: 3.25em' class="form-check-label" for="aws">AWS(Cloud)</label>
                                <input type="checkbox" class="form-check-input" id="python" name ="python">
                                <label style='margin-right: 3.25em' class="form-check-label" for="python">Python</label>
                                <input type="checkbox" class="form-check-input" id="devops" name ="devops">
                                <label style='margin-right: 3.25em' class="form-check-label" for="devops">DevOps</label>
                                <input type="checkbox" class="form-check-input" id="fullpython" name ="fullpython">
                                <label style='margin-right: 2.25em' class="form-check-label" for="fullpython">FullStack(Python)</label>
                                <input type="checkbox" class="form-check-input" id="hadoop" name ="hadoop">
                                <label style='margin-right: 2.25em' class="form-check-label" for="hadoop">HadoopAdmin</label>
                        </div>

                        <div class="form-group">  
                          <span style='margin-right: 5.00em' class = "label label-default">Batch Time: </span>
                          <input type="time" name="btime" id="btime">
                        </div>

                        <div class="form-group">
                          <span style='margin-right: 9.00em' class = "label label-default">Days: </span>
                          <input type="radio" class="form-check-input" id="weekdays" name="weekdays">
                          <label style='margin-right: 5.25em' class="form-check-label" for="weekdays">WeekDays</label>
                          <input type="radio" class="form-check-input" id="weekends" name="weekends">
                          <label style='margin-right: 5.25em' class="form-check-label" for="weekends">WeekEnds</label>
                          <input type="radio" class="form-check-input" id="other" name="days">
                          <input type="text" placeholder="SpecificDays" style='margin-right: 5.25em' class="form-check-label" for="other" name="specialday">
                        </div>

                        <div class="form-group">  
                            <span style='margin-right: 5.00em' class = "label label-default">Student Name: </span>
                            <input style='margin-right: 22.5em' type="text" id="sname" name="sname" class="form-check-input" placeholder="--Select--">
                            <button onclick= "AddFuction()" type="button" name="add" id ="add" style='margin-left: 15.25em' class="form-check-label">Add</button>
                          </div>
                          <p id="demo"></p>
                          {% for post in posts %} 
                                  <p id="{{ post.fname }}"></p>
                          {% endfor %}
                        <br><br>

                        <table class="table table-sm">
                          <thead>
                            <tr>
                              <th scope="col">No.</th>
                              <th scope="col">Student Name</th>
                              <th scope="col">Student Alias</th>
                              <th scope="col">Contact Details</th>
                              <th scope="col">Email-ID</th>
                              <th scope="col">Fees Due</th>
                              <th scope="col">Fees Due Date</th>
                            </tr>
                          </thead>
                          <tbody>
                          {% for post in posts %}
                            <tr>
                              <th scope="row">1</th>
                              <td>{{ post.fname }} {{ post.lname }}</td>
                              <td>{{ post.enqalias }}</td>
                              <td>{{ post.phone }}</td>
                              <td>{{ post.email }}</td>
                              <td>{{ post.tot_fees }}</td>
                            </tr>
                            {% endfor %}
                          </tbody>
                        </table>  
  
                            <div class="form-group">
                                    <button type="submit" class="btn btn-primary btn-lg">Submit</button>
                            </div>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    
{% endblock %}
{% block js%}
<script>
console.log('working');
console.log('clicked');
const batchalias = document.getElementById("batchalias");
const batchid = document.getElementById("batchid").value;
const linux = document.getElementById("linux").value;
console.log(batchid);
console.log(linux);
btime.addEventListener("focus", function(){
    const linuxCap = linux.charAt(0).toUpperCase() + linux.slice(1)
    batchalias.textContent = "E-"+" "+linuxCap+"_"+ batchid;
    name = batchalias.textContent;
    console.log(name);
});

function AddFuction(){
  var sname = document.getElementById("sname");
  var ans = sname.value;
  document.getElementById("demo").innerHTML = ans;
  console.log(ans);
  document.getElementById(ans).innerHTML =  ans;
  
}

{% if thank %}
alert('Thanks for Registration. We will get back to you soon!');
document.location = "/batch/";
{% endif %}

</script>
 
{% endblock %} 

</body>

</html>