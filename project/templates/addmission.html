{% extends 'index.html' %}
{% load crispy_forms_tags %}
{% block title %} Addmission Form {% endblock %}

{% block css %} {% endblock %}
{% block body %}
<div class="main">
    <div class="row">
        <div class="col-md-12">
            <div class="well well-sm"> 
                <form action="/StudentAlias/" method="post" novalidate>{% csrf_token %}
                    <legend class="text-xs-center header">Select Student Alias</legend>
                    <input list="browsers" name="browsers">
                    <datalist id="browsers">
                        {% for post in posts %} 
                            <option value="{{ post.enqalias }}">
                        {% endfor %} 
                    </datalist>
                    <br><br>
                    
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-lg" onclick="doDa()">Submit</button>
                    </div>
                </form> 
                <form action="/addmission/" method="post" novalidate>{% csrf_token %}
                    <fieldset id="myDIV">
                        <legend class="text-xs-center header">Admission</legend>
                        {{ form.E_id}}
                        <div class="form-row">
                            <div class="form-group col-md-4">
                                <span class = "label label-default">Date: </span>
                                {{ form.add_date|as_crispy_field }}
                            </div>
                            <div class="form-group col-md-4">
                                <label class="form-check-label">AdmissionID:{{ form.add_id|as_crispy_field }}</label>
                            </div>
                            <div class="form-group col-md-4">
                                <label class="form-check-label">AddmissionAlias :{{ form.add_alias|as_crispy_field }}</label>
                            </div>
                        </div>
                        <br>
                        <div class="form-group">
                            {{ form.fname|as_crispy_field }}
                        </div>
                        <div class="form-group">
                           {{ form.lname|as_crispy_field }}
                        </div>
                        <div class="form-group">
                            {{ form.email|as_crispy_field }}
                        </div>
                        <div class="form-group">
                            {{ form.phone|as_crispy_field }}
                        </div>
                        <div class="form-group">
                            {{ form.Address|as_crispy_field }}
                        </div>
                        <div class="form-group">
                            <span style='margin-right: 6.25em' class = "label label-default">Admission Taken For: </span>
                            {% for checkbox in form.courses %}
                                {{ checkbox.tag }}
                                <label style='margin-right: 2.25em' >{{ checkbox.choice_label }}</label>
                            {% endfor %}
                        </div>
                        <div class="form-group">
                            {{ form.tot_fees|as_crispy_field }}
                        </div>
                        <div class="form-group"><br>  
                            <span style='margin-right: 9.00em' class = "label label-default">Fees Structure: </span>
                            {% for radio in form.pay_fees %}
                                {{ radio.tag }} 
                                <label style='margin-right: 2.25em'>{{ radio.choice_label }}</label>
                            {% endfor %}
                        </div>
                        <table class="table formTable" style="display: none;" id="one">
                            <thead>
                                <tr>
                                    <th scope="col" class="col2">#</th>
                                    <th scope="col" class="col2">Date</th>
                                    <th scope="col" class="col2">Amount</th>
                                    <th scope="col" class="col2">Paid/NotPaid</th>
                                    </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th scope="row">1</th>
                                    <td class="col3" scope="col">{{ form.one_install_date|as_crispy_field }}</td>
                                    <td class="col3">{{ form.one_install_fees|as_crispy_field }}</td>
                                    <td class="col3">{{ form.status|as_crispy_field }}</td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="table formTable" style="display: none;" id="two">
                            <thead>
                                <tr>
                                    <th scope="col" class="col2">#</th>
                                    <th scope="col" class="col2">Date</th>
                                    <th scope="col" class="col2">Amount</th>
                                    <th scope="col" class="col2">Paid/NotPaid</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th scope="row">1</th>
                                    <td class="col3" scope="col">{{ form.two_install_date1|as_crispy_field }}</td>
                                    <td class="col3">{{ form.two_install_fees1|as_crispy_field }}</td>
                                    <td class="col3">{{ form.status1|as_crispy_field }}</td>
                                </tr>
                                <tr>
                                    <th scope="row">2</th>
                                    <td class="col3" scope="col">{{ form.two_install_date2|as_crispy_field }}</td>
                                    <td class="col3">{{ form.two_install_fees2|as_crispy_field }}</td>
                                    <td class="col3">{{ form.status2|as_crispy_field }}</td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="table formTable" style="display: none;" id="three">
                            <thead>
                                <tr>
                                    <th scope="col" class="col2">#</th>
                                    <th scope="col" class="col2">Date</th>
                                    <th scope="col" class="col2">Amount</th>
                                    <th scope="col" class="col2">Paid/NotPaid</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th scope="row">1</th>
                                    <td class="col3" scope="col">{{ form.three_install_date1|as_crispy_field }}</td>
                                    <td class="col3">{{ form.three_install_fees1|as_crispy_field }}</td>
                                    <td class="col3">{{ form.status1|as_crispy_field }}</td>
                                </tr>
                                <tr>
                                    <th scope="row">2</th>
                                    <td class="col3" scope="col">{{ form.three_install_date2|as_crispy_field }}</td>
                                    <td class="col3">{{ form.three_install_fees2|as_crispy_field }}</td>
                                    <td class="col3">{{ form.status2|as_crispy_field }}</td>
                                </tr>
                                <tr>
                                    <th scope="row">3</th>
                                    <td class="col3" scope="col">{{ form.three_install_date3|as_crispy_field }}</td>
                                    <td class="col3">{{ form.three_install_fees3|as_crispy_field }}</td>
                                    <td class="col3">{{ form.status3|as_crispy_field }}</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="form-group">
                            {{ form.comments|as_crispy_field }}
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary btn-lg">Submit</button>
                        </div>
                    </fieldset> 
                </form>
            </div>
        </div>
    </div>
</div>
    
    
{% endblock %}
{% block js%}
<script>
console.log('working');
console.log('clicked');

function doDa()
{
   document.getElementById('myDIV').style.display = "inline";
}
/* When the user clicks on the button,
toggle between hiding and showing the dropdown content */
function myFunction() {
  document.getElementById("myDropdown").classList.toggle("show");
}

function filterFunction() {
  var input, filter, ul, li, a, i;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  div = document.getElementById("myDropdown");
  a = div.getElementsByTagName("a");
  for (i = 0; i < a.length; i++) {
    txtValue = a[i].textContent || a[i].innerText;
    console.log(txtValue);
    if (txtValue.toUpperCase().indexOf(filter) > -1) {
      a[i].style.display = "";
      console.log(a[i].style.display);
    } else {
      a[i].style.display = "none";
      console.log(a[i].style.display);
    }
  }
}

function ShowHideDiv() {
        var oneinstall = document.getElementById("id_pay_fees_0");
        var twoinstall = document.getElementById("id_pay_fees_1");
        var threeinstall = document.getElementById("id_pay_fees_2");
        


        var showone = document.getElementById("one");
        var showtwo = document.getElementById("two");
        var showthree = document.getElementById("three");
        

        showone.style.display = oneinstall.checked ? "block" : "none";
        showtwo.style.display = twoinstall.checked ? "block" : "none";
        showthree.style.display = threeinstall.checked ? "block" : "none";
       
    
    }
      
{% if thank %}
alert('Thanks for Registration. We will get back to you soon!');
document.location = "/addmission/";
{% endif %}
</script>    
{% endblock %} 

</body>

</html>